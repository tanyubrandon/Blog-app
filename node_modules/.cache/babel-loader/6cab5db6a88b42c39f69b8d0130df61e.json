{"ast":null,"code":"import _slicedToArray from\"/home/tanyu/Documents/tuts/dojo-blog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";var useFetch=function useFetch(url){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setIsPending=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var abortCont=new AbortController();setTimeout(function(){fetch(url,{signal:abortCont.signal}).then(function(res){if(!res.ok){throw Error(\"A fatal error occured!\");};return res.json();}).then(function(data){setData(data);setIsPending(false);}).catch(function(e){// console.log(e);\nif(e.name==='AbortError'){console.log('Fetch aborted!');}else{setError(e.message);setIsPending(false);}});},1000);return function(){return abortCont.abort();};},[url]);return{data:data,isPending:isPending,error:error};};export default useFetch;","map":{"version":3,"sources":["/home/tanyu/Documents/tuts/dojo-blog/src/useFetch.js"],"names":["useState","useEffect","useFetch","url","data","setData","isPending","setIsPending","error","setError","abortCont","AbortController","setTimeout","fetch","signal","then","res","ok","Error","json","catch","e","name","console","log","message","abort"],"mappings":"0HAAA,OAASA,QAAT,CAAkBC,SAAlB,KAAmC,OAAnC,CAEA,GAAMC,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,CAACC,GAAD,CAAO,CAElB,cAAqBH,QAAQ,CAAC,IAAD,CAA7B,wCAAOI,IAAP,eAAYC,OAAZ,eAEA,eAA8BL,QAAQ,CAAC,IAAD,CAAtC,yCAAMM,SAAN,eAAgBC,YAAhB,eAEA,eAAsBP,QAAQ,CAAC,IAAD,CAA9B,yCAAMQ,KAAN,eAAYC,QAAZ,eAEAR,SAAS,CAAC,UAAI,CACV,GAAMS,CAAAA,SAAS,CAAC,GAAIC,CAAAA,eAAJ,EAAhB,CACAC,UAAU,CAAC,UAAI,CACXC,KAAK,CAACV,GAAD,CAAK,CAACW,MAAM,CAACJ,SAAS,CAACI,MAAlB,CAAL,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,CAAE,CACP,GAAG,CAACA,GAAG,CAACC,EAAR,CAAW,CACP,KAAMC,CAAAA,KAAK,CAAC,wBAAD,CAAX,CACH,EACF,MAAQF,CAAAA,GAAG,CAACG,IAAJ,EAAR,CACF,CAND,EAOCJ,IAPD,CAOM,SAAAX,IAAI,CAAE,CACPC,OAAO,CAACD,IAAD,CAAP,CACAG,YAAY,CAAC,KAAD,CAAZ,CACJ,CAVD,EAWCa,KAXD,CAWO,SAACC,CAAD,CAAK,CACR;AACA,GAAGA,CAAC,CAACC,IAAF,GAAS,YAAZ,CAAyB,CACrBC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACH,CAFD,IAGI,CACAf,QAAQ,CAACY,CAAC,CAACI,OAAH,CAAR,CACAlB,YAAY,CAAC,KAAD,CAAZ,CACH,CACJ,CApBD,EAqBH,CAtBS,CAsBR,IAtBQ,CAAV,CAwBA,MAAO,kBAAIG,CAAAA,SAAS,CAACgB,KAAV,EAAJ,EAAP,CACH,CA3BQ,CA2BP,CAACvB,GAAD,CA3BO,CAAT,CA6BA,MAAO,CAACC,IAAI,CAAJA,IAAD,CAAME,SAAS,CAATA,SAAN,CAAgBE,KAAK,CAALA,KAAhB,CAAP,CACH,CAtCD,CAwCA,cAAeN,CAAAA,QAAf","sourcesContent":["import { useState,useEffect } from \"react\";\n\nconst useFetch=(url)=>{\n\n    const [data,setData]=useState(null);\n\n    const[isPending,setIsPending]=useState(true);\n\n    const[error,setError]=useState(null);\n    \n    useEffect(()=>{\n        const abortCont=new AbortController();\n        setTimeout(()=>{\n            fetch(url,{signal:abortCont.signal})\n            .then(res=>{\n                if(!res.ok){\n                    throw Error(\"A fatal error occured!\");\n                };\n               return  res.json();\n            })\n            .then(data=>{\n                 setData(data);   \n                 setIsPending(false);\n            })\n            .catch((e)=>{  \n                // console.log(e);\n                if(e.name==='AbortError'){\n                    console.log('Fetch aborted!');\n                }\n                else{\n                    setError(e.message);\n                    setIsPending(false);\n                }\n            });\n        },1000);   \n\n        return ()=>abortCont.abort();\n    },[url]);\n\n    return {data,isPending,error}\n};\n\nexport default useFetch;"]},"metadata":{},"sourceType":"module"}