{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\n\nconst useFetch = url => {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const abortCont = new AbortController();\n    setTimeout(() => {\n      fetch(url, {\n        signal: abortCont.signal\n      }).then(res => {\n        if (!res.ok) {\n          throw Error(\"A fatal error occured!\");\n        }\n\n        ;\n        return res.json();\n      }).then(data => {\n        if (e.name = 'AbortError') {\n          console.log('Fetch Aborted');\n        } else {\n          setData(data);\n          setIsPending(false);\n        }\n      }).catch(e => {\n        setError(e.message);\n        setIsPending(false);\n      });\n    }, 1000);\n    return () => abortCont.abort();\n  }, [url]);\n  return {\n    data,\n    isPending,\n    error\n  };\n};\n\n_s(useFetch, \"cXWu45hQE9y6Of2sqlY9XSRohsk=\");\n\nexport default useFetch;","map":{"version":3,"sources":["/home/tanyu/Documents/tuts/dojo-blog/src/useFetch.js"],"names":["useState","useEffect","useFetch","url","data","setData","isPending","setIsPending","error","setError","abortCont","AbortController","setTimeout","fetch","signal","then","res","ok","Error","json","e","name","console","log","catch","message","abort"],"mappings":";;AAAA,SAASA,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;;AAEA,MAAMC,QAAQ,GAAEC,GAAD,IAAO;AAAA;;AAElB,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAeL,QAAQ,CAAC,IAAD,CAA7B;AAEA,QAAK,CAACM,SAAD,EAAWC,YAAX,IAAyBP,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAK,CAACQ,KAAD,EAAOC,QAAP,IAAiBT,QAAQ,CAAC,IAAD,CAA9B;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMS,SAAS,GAAC,IAAIC,eAAJ,EAAhB;AACAC,IAAAA,UAAU,CAAC,MAAI;AACXC,MAAAA,KAAK,CAACV,GAAD,EAAK;AAACW,QAAAA,MAAM,EAACJ,SAAS,CAACI;AAAlB,OAAL,CAAL,CACCC,IADD,CACMC,GAAG,IAAE;AACP,YAAG,CAACA,GAAG,CAACC,EAAR,EAAW;AACP,gBAAMC,KAAK,CAAC,wBAAD,CAAX;AACH;;AAAA;AACF,eAAQF,GAAG,CAACG,IAAJ,EAAR;AACF,OAND,EAOCJ,IAPD,CAOMX,IAAI,IAAE;AACR,YAAGgB,CAAC,CAACC,IAAF,GAAO,YAAV,EAAuB;AACnBC,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH,SAFD,MAGI;AACAlB,UAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,OAfD,EAgBCiB,KAhBD,CAgBQJ,CAAD,IAAK;AACRX,QAAAA,QAAQ,CAACW,CAAC,CAACK,OAAH,CAAR;AACAlB,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,OAnBD;AAoBH,KArBS,EAqBR,IArBQ,CAAV;AAuBA,WAAO,MAAIG,SAAS,CAACgB,KAAV,EAAX;AACH,GA1BQ,EA0BP,CAACvB,GAAD,CA1BO,CAAT;AA4BA,SAAO;AAACC,IAAAA,IAAD;AAAME,IAAAA,SAAN;AAAgBE,IAAAA;AAAhB,GAAP;AACH,CArCD;;GAAMN,Q;;AAuCN,eAAeA,QAAf","sourcesContent":["import { useState,useEffect } from \"react\";\n\nconst useFetch=(url)=>{\n\n    const [data,setData]=useState(null);\n\n    const[isPending,setIsPending]=useState(true);\n\n    const[error,setError]=useState(null);\n    \n    useEffect(()=>{\n        const abortCont=new AbortController();\n        setTimeout(()=>{\n            fetch(url,{signal:abortCont.signal})\n            .then(res=>{\n                if(!res.ok){\n                    throw Error(\"A fatal error occured!\");\n                };\n               return  res.json();\n            })\n            .then(data=>{\n                if(e.name='AbortError'){\n                    console.log('Fetch Aborted');\n                }\n                else{\n                    setData(data);   \n                    setIsPending(false);   \n                }\n            })\n            .catch((e)=>{\n                setError(e.message);\n                setIsPending(false);\n            });\n        },1000);   \n\n        return ()=>abortCont.abort();\n    },[url]);\n\n    return {data,isPending,error}\n};\n\nexport default useFetch;"]},"metadata":{},"sourceType":"module"}